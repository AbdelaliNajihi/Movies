<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://thymeleaf.org/extras/spring-security">
<head>
<meta charset="UTF-8" />
<link rel="stylesheet"
	th:href="@{/webjars/bootstrap/4.5.0/css/bootstrap.min.css}" />
<link rel="stylesheet"
	th:href="@{/webjars/font-awesome/5.12.0/css/all.css}" />
<title>Insert title here</title>
</head>
<body>
	<div th:fragment="navbar">
		<nav class="navbar navbar-expand-lg navbar-light bg-light">
			<a class="navbar-brand" th:href="@{/home}"> <img
				src="/assets/movies.jpg" width="30" height="30"
				class="d-inline-block align-top" alt="..."> Movies
			</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse"
				data-target="#navbarSupportedContent"
				aria-controls="navbarSupportedContent" aria-expanded="false"
				aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav ml-auto">
					<li class="nav-item dropdown" sec:authorize="isAuthenticated()"><a
						class="nav-link dropdown-toggle" id="navbarDropdown"
						role="button" data-toggle="dropdown" aria-haspopup="true"
						aria-expanded="false"><img th:if="${userHasImage}"
							th:src="@{/user/image(username=${userApp.username})}" alt="..."
							class="rounded-circle" width="40" height="40"> <img
							th:unless="${userHasImage}" th:src="@{/assets/unknown-user.png}"
							alt="..." class="rounded-circle" width="40" height="40"></a>
						<div class="dropdown-menu dropdown-menu-right"
							aria-labelledby="navbarDropdown">
							<a class="dropdown-item" th:href="@{/user/profile}"><i
								class="far fa-id-badge"></i> Profile</a>
							<div class="dropdown-divider"></div>
							<a class="dropdown-item" th:href="@{/logout}"><i
								class="fas fa-power-off"></i> Logout</a>
						</div></li>
					<li class="nav-item"><a class="nav-link"
						sec:authorize="isAuthenticated()" sec:authentication="name"></a></li>
				</ul>
			</div>
		</nav>
	</div>


	<script th:src="@{/webjars/jquery/3.4.1/jquery.min.js}"></script>
	<script th:src="@{/webjars/bootstrap/4.5.0/js/bootstrap.min.js}"></script>
</body>
</html>